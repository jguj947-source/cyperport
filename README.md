# بوابة الأمن السيبراني - Cybersecurity Portal

منصة متكاملة للإبلاغ عن الثغرات الأمنية ورفع الوعي بالأمن السيبراني.

## المتطلبات

- Python 3.11+
- pip (مدير الحزم)

## التثبيت والتشغيل

### 1. إنشاء بيئة افتراضية

```bash
python3.11 -m venv venv
source venv/bin/activate  # على Linux/Mac
# أو
venv\Scripts\activate  # على Windows
```

### 2. تثبيت التبعيات

```bash
pip install -r requirements.txt
```

### 3. تشغيل التطبيق

```bash
python app.py
```

سيتم تشغيل التطبيق على: `http://127.0.0.1:5000`

### التشغيل في Visual Studio Code

1.  افتح المجلد `cyberport` في VS Code.
2.  افتح الطرفية (Terminal) داخل VS Code.
3.  قم بتنشيط البيئة الافتراضية:
    ```bash
    source venv/bin/activate
    ```
4.  شغل التطبيق:
    ```bash
    python app.py
    ```
5.  انقر على الرابط `http://127.0.0.1:5000` الذي يظهر في الطرفية لفتح التطبيق في المتصفح.

### إعادة تهيئة قاعدة البيانات

إذا أردت إعادة تعيين قاعدة البيانات والبيانات الأولية (بما في ذلك الاختبارات الجديدة):

```bash
rm database.sqlite
python seed_db.py
```

## بيانات الدخول الافتراضية

### حساب المسؤول (Admin)
- **البريد الإلكتروني:** admin@cyberport.local
- **كلمة المرور:** ChangeMe123!

**تنبيه مهم:** يجب تغيير كلمة المرور الافتراضية عند أول دخول للحساب الإداري.

### حسابات تجريبية (Sample Users)
- **البريد الإلكتروني:** ahmed@example.com
- **كلمة المرور:** User123456!

- **البريد الإلكتروني:** fatima@example.com
- **كلمة المرور:** User123456!

## الميزات الرئيسية

### 1. نظام المصادقة والمستخدمين
- تسجيل حساب جديد مع اختيار القسم والوظيفة
- تسجيل دخول آمن مع تشفير كلمات المرور (bcrypt)
- نظام الأدوار (مستخدم عادي وإدارة)

### 2. نظام الإبلاغ عن الثغرات
- إرسال تقارير عن الثغرات الأمنية
- تحميل ملفات وصور (بحد أقصى 5MB)
- تتبع حالة التقرير (جديد، قيد المراجعة، مغلق)
- عرض التقارير الشخصية

### 3. لوحة التحكم الإدارية
- عرض إحصائيات عامة
- إدارة التقارير (عرض، تصفية، تحديث الحالة)
- إدارة المقالات (إنشاء، تعديل، حذف)
- **إدارة الاختبارات (جديد):** إنشاء، تعديل، حذف الاختبارات والأسئلة والخيارات.

### 4. بوابة الوعي السيبراني
- **المقالات:** مقالات توعوية حول الأمن السيبراني
- **الاختبارات:** اختبارات تفاعلية لقياس المعرفة (تم تحديث البيانات الأولية)
- **النصائح:** نصائح عملية يومية
- **التنبيهات:** تنبيهات حول التهديدات الأمنية

### 5. دعم اللغتين (تم إصلاحه)
- دعم كامل للعربية والإنجليزية
- تبديل اللغة من خلال القائمة العلوية
- جميع المحتوى ثنائي اللغة

## هيكل المشروع

```
cyberport/
├── app.py                 # التطبيق الرئيسي
├── models.py              # نماذج قاعدة البيانات
├── forms.py               # نماذج الويب والتحقق
├── config.py              # إعدادات التطبيق
├── seed_db.py             # ملف تجهيز البيانات الأولية
├── database.sqlite        # قاعدة البيانات
├── requirements.txt       # التبعيات
├── README.md              # هذا الملف
├── templates/             # قوالب HTML
│   ├── base.html          # القالب الأساسي
│   ├── index.html         # الصفحة الرئيسية
│   ├── login.html         # صفحة تسجيل الدخول
│   ├── register.html      # صفحة التسجيل
│   ├── articles.html      # صفحة المقالات
│   ├── quizzes.html       # صفحة الاختبارات
│   ├── tips.html          # صفحة النصائح
│   ├── alerts.html        # صفحة التنبيهات
│   ├── report.html        # صفحة إرسال التقرير
│   ├── my_reports.html    # صفحة التقارير الشخصية
│   ├── admin_*.html       # قوالب الإدارة (تم إضافة قوالب إدارة الاختبارات)
│   └── ...
└── static/                # الملفات الثابتة
    ├── css/
    │   └── style.css      # أنماط CSS
    ├── js/                # ملفات JavaScript
    ├── images/            # الصور
    └── uploads/           # ملفات التحميل
```

## قاعدة البيانات

التطبيق يستخدم SQLite3 بشكل افتراضي. الملف `database.sqlite` يتم إنشاؤه تلقائياً عند أول تشغيل.

## الملاحظات المهمة

1.  **البيئة الإنتاجية:** هذا التطبيق مصمم للتطوير والاختبار. للاستخدام في الإنتاج، استخدم WSGI server مثل Gunicorn.
2.  **النشر على Render:** تم تجهيز المشروع بملف `Procfile` لاستخدام Gunicorn، مما يجعله جاهزاً للنشر على Render.

2.  **المفتاح السري:** غيّر `SECRET_KEY` في `config.py` قبل النشر.

3.  **قاعدة البيانات:** في الإنتاج، استخدم قاعدة بيانات أكثر قوة مثل PostgreSQL.

4.  **البريد الإلكتروني:** النسخة الحالية لا تتضمن إرسال بريد إلكتروني. يمكن إضافة هذه الميزة باستخدام Flask-Mail.

## النشر على Render (خطوات سريعة)

تم تجهيز المشروع بملف `Procfile` و Gunicorn، مما يجعله جاهزاً للنشر على Render.

1.  **إنشاء مستودع Git:** قم بإنشاء مستودع Git جديد وادفع الكود إليه.
2.  **إنشاء خدمة ويب:** في لوحة تحكم Render، اختر "New Web Service" وقم بربطه بمستودع Git الخاص بك.
3.  **التكوين:**
    *   **Build Command:** `pip install -r requirements.txt`
    *   **Start Command:** `gunicorn app:app`
    *   **Environment:** Python 3
4.  **قاعدة البيانات:** Render يدعم SQLite، ولكن يفضل استخدام قاعدة بيانات خارجية (مثل Render's PostgreSQL) في الإنتاج. إذا كنت تستخدم SQLite، تأكد من أن Render يمكنه الوصول إلى الملف.
5.  **المتغيرات البيئية:** أضف متغيرات البيئة التالية في Render:
    *   `SECRET_KEY`: مفتاح سري قوي (مهم جداً للأمان).
    *   `FLASK_ENV`: `production`
    *   `UPLOAD_FOLDER`: `/var/data/uploads` (أو أي مسار تخزين دائم تختاره Render).
    
    ## الدعم والمساعدة

للمزيد من المعلومات أو الإبلاغ عن مشاكل، يرجى التواصل مع فريق الدعم.

---

**آخر تحديث:** 2025-12-03
